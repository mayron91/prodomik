<section class="reviews">
    <div class="container">
        <div class="reviews_wr">
            <div class="reviews_title">
                <h2>Отзывы</h2>
                <img src="img/reviews/like.svg" alt="">
            </div>
                        <!-- Slider main container -->
<div class="swiper_reviews">
    <!-- Additional required wrapper -->
    <div class="swiper-wrapper">
      <!-- Slides -->
      <div class="swiper-slide">
        <img src="img/reviews/img1.jpg" alt="">
      </div>
      <div class="swiper-slide iframe-wrapper">
        <iframe class="swiper-iframe" src="https://vk.com/video_ext.php?oid=-228223380&id=456239023" width="254" height="254" allow="autoplay; encrypted-media; fullscreen; picture-in-picture; screen-wake-lock;" frameborder="0" allowfullscreen></iframe>
      </div>
      <div class="swiper-slide">
        <img src="img/reviews/img2.jpg" alt="">
      </div>
      <div class="swiper-slide">
        <img src="img/reviews/img3.jpg" alt="">
    </div>
      <div class="swiper-slide iframe-wrapper">
        <iframe class="swiper-iframe" src="https://vk.com/video_ext.php?oid=-228223380&id=456239023" width="294" height="592" allow="autoplay; encrypted-media; fullscreen; picture-in-picture; screen-wake-lock;" frameborder="0" allowfullscreen></iframe>
      </div>
      <div class="swiper-slide iframe-wrapper">
        <iframe class="swiper-iframe" src="https://vk.com/video_ext.php?oid=-228223380&id=456239021" width="294" height="592" allow="autoplay; encrypted-media; fullscreen; picture-in-picture; screen-wake-lock;" frameborder="0" allowfullscreen></iframe>
      </div>
      <div class="swiper-slide">
        <img src="img/reviews/img1.jpg" alt="">
      </div>
      <div class="swiper-slide iframe-wrapper">
        <iframe class="swiper-iframe" src="https://vk.com/video_ext.php?oid=-228223380&id=456239023" width="254" height="254" allow="autoplay; encrypted-media; fullscreen; picture-in-picture; screen-wake-lock;" frameborder="0" allowfullscreen></iframe>
      </div>
      <div class="swiper-slide">
        <img src="img/reviews/img2.jpg" alt="">
      </div>
    </div>
  
   <!-- If we need navigation buttons -->
   <div class="swiper-button-prev_reviews"></div>
   <div class="swiper-button-next_reviews"></div>
  
  </div>
        </div>
    </div>
</section>
<script>
    document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.iframe-wrapper').forEach(wrapper => {
        const iframe = wrapper.querySelector('.swiper-iframe');

        wrapper.addEventListener('click', () => {
            wrapper.classList.add('active'); // Разблокируем iframe
        });

        wrapper.addEventListener('mouseleave', () => {
            wrapper.classList.remove('active'); // Блокируем iframe
        });

        iframe.addEventListener('blur', () => {
            wrapper.classList.remove('active'); // Блокируем iframe
        });
    });
    const swiper3 = new Swiper ('.swiper_reviews', {
// Optional parameters
slidesPerView: 'auto',
  loop:true,
    spaceBetween: 20,
    centeredSlides: false,
    freeMode: true,
    freeModeSticky: true,
    grabCursor: true,
    snap: true,
    freeModeSticky: true,
    breakpoints: {
        320: {
            slidesPerView: 'auto',
            spaceBetween: 10,
        },
        768: {
          slidesPerView: 'auto',
          spaceBetween: 10,
        },
        1440: {
            slidesPerView: 5,
        }
    },
// Navigation arrows
navigation: {
nextEl: '.swiper-button-next_reviews',
prevEl: '.swiper-button-prev_reviews',
},
on: {
            touchStart: function () {
                document.querySelectorAll('.iframe-wrapper').forEach(wrapper => {
                    wrapper.classList.remove('active'); // Блокируем iframe при свайпе
                });
            },
            touchEnd: function () {
                document.querySelectorAll('.iframe-wrapper').forEach(wrapper => {
                    wrapper.classList.remove('active'); // Оставляем заблокированным
                });
            }
        }
    });

});
</script>